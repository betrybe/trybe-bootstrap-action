name: 'Trybe Image Builder'
author: 'Trybe'
description: 'Action utilizada para configurar o ambiente para executar a integração contínua das aplicações da Trybe.'
inputs:
  environment:
    description: 'Ambiente de destino da aplicação.'
    required: true
  githubToken:
    description: 'Personal Acess Token para acessos a sistemas do GitHub.'
    required: true
  prefixDir:
    description: 'Subdiretório a ser iniciado, usado em monorepos.'
    required: true
    default: './'

runs:
  using: 'composite'
  steps:
    - id: job
      shell: bash
      run: ${{ github.action_path }}/bootstrap.sh
      env:
        ENVIRONMENT: ${{ inputs.environment }}
        GITHUB_TOKEN: ${{ inputs.githubToken }}
        PREFIX_DIR: ${{ inputs.prefixDir }}
